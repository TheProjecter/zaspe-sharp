
EXTRA_DIST =  Makefile

# Warning: This is an automatically generated file, do not edit!

srcdir=.
top_srcdir=..

include $(top_srcdir)/config.make

ifeq ($(CONFIG),RELEASE)
ASSEMBLY_COMPILER_COMMAND = gmcs
ASSEMBLY_COMPILER_FLAGS =  -noconfig -codepage:utf8 -warn:4 -optimize+ -debug -define:DEBUG
ASSEMBLY = bin/Release/GUI.exe
ASSEMBLY_MDB = $(ASSEMBLY).mdb
COMPILE_TARGET = winexe
PROJECT_REFERENCES =  \
	../PersonsManager/bin/Release/PersonsManager.dll \
	../EventsManager/bin/Release/EventsManager.dll \
	../EventTypesManager/bin/Release/EventTypesManager.dll \
	../AttendancesManager/bin/Release/AttendancesManager.dll
BUILD_DIR = bin/Release/

EVENTTYPESMANAGER_DLL_MDB_SOURCE=../EventTypesManager/bin/Release/EventTypesManager.dll.mdb
ADD_PERSON_GLADE_SOURCE=glade/add_person.glade
GENTLE_COMMON_DLL_SOURCE=../Gentle.NET/Gentle.Common.dll
SQLITE3_DLL_SOURCE=../Gentle.NET/sqlite3.dll
LIBSQLITE3_SO_0_SOURCE=../Gentle.NET/libsqlite3.so.0
BLUE_FEA_GIF_SOURCE=resources/blue_fea.gif
ATTENDANCESMANAGER_DLL_MDB_SOURCE=../AttendancesManager/bin/Release/AttendancesManager.dll.mdb
PERSONSMANAGER_DLL_MDB_SOURCE=../PersonsManager/bin/Release/PersonsManager.dll.mdb
DATA_DB_SOURCE=../Database/data.db
ADD_EVENT_GLADE_SOURCE=glade/add_event.glade
EVENTTYPESMANAGER_DLL_SOURCE=../EventTypesManager/bin/Release/EventTypesManager.dll
GENTLE_CONFIG_SOURCE=../Gentle.NET/Gentle.config
GENTLE_PROVIDER_SQLITE_DLL_SOURCE=../Gentle.NET/Gentle.Provider.SQLite.dll
MONO_DATA_SQLITECLIENT_DLL_SOURCE=../Gentle.NET/Mono.Data.SqliteClient.dll
ATTENDANCESMANAGER_DLL_SOURCE=../AttendancesManager/bin/Release/AttendancesManager.dll
EVENTSMANAGER_DLL_MDB_SOURCE=../EventsManager/bin/Release/EventsManager.dll.mdb
EVENTSMANAGER_DLL_SOURCE=../EventsManager/bin/Release/EventsManager.dll
GENTLE_FRAMEWORK_DLL_SOURCE=../Gentle.NET/Gentle.Framework.dll
PERSONSMANAGER_DLL_SOURCE=../PersonsManager/bin/Release/PersonsManager.dll
LOG4NET_DLL_SOURCE=../Gentle.NET/log4net.dll
MAIN_WINDOW_GLADE_SOURCE=glade/main_window.glade

endif

ifeq ($(CONFIG),DEBUG)
ASSEMBLY_COMPILER_COMMAND = gmcs
ASSEMBLY_COMPILER_FLAGS =  -noconfig -codepage:utf8 -warn:4 -optimize- -debug "-define:TRACE;DEBUG"

ASSEMBLY = bin/Debug/GUI.exe
ASSEMBLY_MDB = $(ASSEMBLY).mdb
COMPILE_TARGET = winexe
PROJECT_REFERENCES =  \
	../PersonsManager/bin/Debug/PersonsManager.dll \
	../EventsManager/bin/Debug/EventsManager.dll \
	../EventTypesManager/bin/Debug/EventTypesManager.dll \
	../AttendancesManager/bin/Debug/AttendancesManager.dll
BUILD_DIR = bin/Debug/

EVENTTYPESMANAGER_DLL_MDB_SOURCE=../EventTypesManager/bin/Debug/EventTypesManager.dll.mdb
ADD_PERSON_GLADE_SOURCE=glade/add_person.glade
GENTLE_COMMON_DLL_SOURCE=../Gentle.NET/Gentle.Common.dll
SQLITE3_DLL_SOURCE=../Gentle.NET/sqlite3.dll
LIBSQLITE3_SO_0_SOURCE=../Gentle.NET/libsqlite3.so.0
BLUE_FEA_GIF_SOURCE=resources/blue_fea.gif
ATTENDANCESMANAGER_DLL_MDB_SOURCE=../AttendancesManager/bin/Debug/AttendancesManager.dll.mdb
PERSONSMANAGER_DLL_MDB_SOURCE=../PersonsManager/bin/Debug/PersonsManager.dll.mdb
DATA_DB_SOURCE=../Database/data.db
ADD_EVENT_GLADE_SOURCE=glade/add_event.glade
EVENTTYPESMANAGER_DLL_SOURCE=../EventTypesManager/bin/Debug/EventTypesManager.dll
GENTLE_CONFIG_SOURCE=../Gentle.NET/Gentle.config
GENTLE_PROVIDER_SQLITE_DLL_SOURCE=../Gentle.NET/Gentle.Provider.SQLite.dll
MONO_DATA_SQLITECLIENT_DLL_SOURCE=../Gentle.NET/Mono.Data.SqliteClient.dll
ATTENDANCESMANAGER_DLL_SOURCE=../AttendancesManager/bin/Debug/AttendancesManager.dll
EVENTSMANAGER_DLL_MDB_SOURCE=../EventsManager/bin/Debug/EventsManager.dll.mdb
EVENTSMANAGER_DLL_SOURCE=../EventsManager/bin/Debug/EventsManager.dll
GENTLE_FRAMEWORK_DLL_SOURCE=../Gentle.NET/Gentle.Framework.dll
PERSONSMANAGER_DLL_SOURCE=../PersonsManager/bin/Debug/PersonsManager.dll
LOG4NET_DLL_SOURCE=../Gentle.NET/log4net.dll
MAIN_WINDOW_GLADE_SOURCE=glade/main_window.glade

endif

AL=al2
SATELLITE_ASSEMBLY_NAME=.resources.dll

PROGRAMFILES = \
	$(EVENTTYPESMANAGER_DLL_MDB) \
	$(ADD_PERSON_GLADE) \
	$(GENTLE_COMMON_DLL) \
	$(SQLITE3_DLL) \
	$(LIBSQLITE3_SO_0) \
	$(BLUE_FEA_GIF) \
	$(ATTENDANCESMANAGER_DLL_MDB) \
	$(PERSONSMANAGER_DLL_MDB) \
	$(DATA_DB) \
	$(ADD_EVENT_GLADE) \
	$(EVENTTYPESMANAGER_DLL) \
	$(GENTLE_CONFIG) \
	$(GENTLE_PROVIDER_SQLITE_DLL) \
	$(MONO_DATA_SQLITECLIENT_DLL) \
	$(ATTENDANCESMANAGER_DLL) \
	$(EVENTSMANAGER_DLL_MDB) \
	$(EVENTSMANAGER_DLL) \
	$(GENTLE_FRAMEWORK_DLL) \
	$(PERSONSMANAGER_DLL) \
	$(LOG4NET_DLL) \
	$(MAIN_WINDOW_GLADE)  

BINARIES = \
	$(GUI)  



EVENTTYPESMANAGER_DLL_MDB = $(BUILD_DIR)/EventTypesManager.dll.mdb
ADD_PERSON_GLADE = $(BUILD_DIR)/add_person.glade
GENTLE_COMMON_DLL = $(BUILD_DIR)/Gentle.Common.dll
SQLITE3_DLL = $(BUILD_DIR)/sqlite3.dll
GUI = $(BUILD_DIR)/gui
LIBSQLITE3_SO_0 = $(BUILD_DIR)/libsqlite3.so.0
BLUE_FEA_GIF = $(BUILD_DIR)/blue_fea.gif
ATTENDANCESMANAGER_DLL_MDB = $(BUILD_DIR)/AttendancesManager.dll.mdb
PERSONSMANAGER_DLL_MDB = $(BUILD_DIR)/PersonsManager.dll.mdb
DATA_DB = $(BUILD_DIR)/data.db
ADD_EVENT_GLADE = $(BUILD_DIR)/add_event.glade
EVENTTYPESMANAGER_DLL = $(BUILD_DIR)/EventTypesManager.dll
GENTLE_CONFIG = $(BUILD_DIR)/Gentle.config
GENTLE_PROVIDER_SQLITE_DLL = $(BUILD_DIR)/Gentle.Provider.SQLite.dll
MONO_DATA_SQLITECLIENT_DLL = $(BUILD_DIR)/Mono.Data.SqliteClient.dll
ATTENDANCESMANAGER_DLL = $(BUILD_DIR)/AttendancesManager.dll
EVENTSMANAGER_DLL_MDB = $(BUILD_DIR)/EventsManager.dll.mdb
EVENTSMANAGER_DLL = $(BUILD_DIR)/EventsManager.dll
GENTLE_FRAMEWORK_DLL = $(BUILD_DIR)/Gentle.Framework.dll
PERSONSMANAGER_DLL = $(BUILD_DIR)/PersonsManager.dll
LOG4NET_DLL = $(BUILD_DIR)/log4net.dll
MAIN_WINDOW_GLADE = $(BUILD_DIR)/main_window.glade

FILES = \
	About.cs \
	AddEvent.cs \
	AddPerson.cs \
	AssemblyInfo.cs \
	AttendancesReport.cs \
	MainWindow.cs \
	ModifyEvent.cs \
	ModifyPerson.cs \
	CustomWidgets/CustomCellRendererToggle.cs \
	CustomWidgets/CustomTreeViewColumn.cs 

DATA_FILES = \
	../Database/data.db \
	../Gentle.NET/Gentle.config \
	../Gentle.NET/sqlite3.dll \
	../Gentle.NET/libsqlite3.so.0 \
	../Gentle.NET/Mono.Data.SqliteClient.dll \
	resources/blue_fea.gif \
	glade/add_event.glade \
	glade/add_person.glade \
	glade/main_window.glade 

RESOURCES = 

EXTRAS = \
	gui.in 

REFERENCES =  \
	System \
	-pkg:gtk-sharp-2.0 \
	-pkg:glade-sharp-2.0 \
	-pkg:glib-sharp-2.0

DLL_REFERENCES =  \
	../Gentle.NET/Gentle.Common.dll \
	../Gentle.NET/Gentle.Framework.dll \
	../Gentle.NET/Gentle.Provider.SQLite.dll \
	../Gentle.NET/log4net.dll

CLEANFILES = $(PROGRAMFILES) $(BINARIES) 

#Targets
all: $(ASSEMBLY) $(PROGRAMFILES) $(BINARIES)  $(top_srcdir)/config.make

include $(top_srcdir)/Makefile.include
#include $(srcdir)/custom-hooks.make



$(eval $(call emit-deploy-target,EVENTTYPESMANAGER_DLL_MDB))
$(eval $(call emit-deploy-target,ADD_PERSON_GLADE))
$(eval $(call emit-deploy-target,GENTLE_COMMON_DLL))
$(eval $(call emit-deploy-target,SQLITE3_DLL))
$(eval $(call emit-deploy-wrapper,GUI,gui,x))
$(eval $(call emit-deploy-target,LIBSQLITE3_SO_0))
$(eval $(call emit-deploy-target,BLUE_FEA_GIF))
$(eval $(call emit-deploy-target,ATTENDANCESMANAGER_DLL_MDB))
$(eval $(call emit-deploy-target,PERSONSMANAGER_DLL_MDB))
$(eval $(call emit-deploy-target,DATA_DB))
$(eval $(call emit-deploy-target,ADD_EVENT_GLADE))
$(eval $(call emit-deploy-target,EVENTTYPESMANAGER_DLL))
$(eval $(call emit-deploy-target,GENTLE_CONFIG))
$(eval $(call emit-deploy-target,GENTLE_PROVIDER_SQLITE_DLL))
$(eval $(call emit-deploy-target,MONO_DATA_SQLITECLIENT_DLL))
$(eval $(call emit-deploy-target,ATTENDANCESMANAGER_DLL))
$(eval $(call emit-deploy-target,EVENTSMANAGER_DLL_MDB))
$(eval $(call emit-deploy-target,EVENTSMANAGER_DLL))
$(eval $(call emit-deploy-target,GENTLE_FRAMEWORK_DLL))
$(eval $(call emit-deploy-target,PERSONSMANAGER_DLL))
$(eval $(call emit-deploy-target,LOG4NET_DLL))
$(eval $(call emit-deploy-target,MAIN_WINDOW_GLADE))


$(build_xamlg_list): %.xaml.g.cs: %.xaml
	xamlg '$<'

$(build_resx_resources) : %.resources: %.resx
	resgen2 '$<' '$@'

$(ASSEMBLY) $(ASSEMBLY_MDB): $(build_sources) $(build_resources) $(build_datafiles) $(DLL_REFERENCES) $(PROJECT_REFERENCES) $(build_xamlg_list) $(build_satellite_assembly_list)
	make pre-all-local-hook prefix=$(prefix)
	mkdir -p $(dir $(ASSEMBLY))
	make $(CONFIG)_BeforeBuild
	$(ASSEMBLY_COMPILER_COMMAND) $(ASSEMBLY_COMPILER_FLAGS) -out:$(ASSEMBLY) -target:$(COMPILE_TARGET) $(build_sources_embed) $(build_resources_embed) $(build_references_ref)
	make $(CONFIG)_AfterBuild
	make post-all-local-hook prefix=$(prefix)

install-local: $(ASSEMBLY) $(ASSEMBLY_MDB) $(EVENTTYPESMANAGER_DLL_MDB) $(ADD_PERSON_GLADE) $(GENTLE_COMMON_DLL) $(SQLITE3_DLL) $(GUI) $(LIBSQLITE3_SO_0) $(BLUE_FEA_GIF) $(ATTENDANCESMANAGER_DLL_MDB) $(PERSONSMANAGER_DLL_MDB) $(DATA_DB) $(ADD_EVENT_GLADE) $(EVENTTYPESMANAGER_DLL) $(GENTLE_CONFIG) $(GENTLE_PROVIDER_SQLITE_DLL) $(MONO_DATA_SQLITECLIENT_DLL) $(ATTENDANCESMANAGER_DLL) $(EVENTSMANAGER_DLL_MDB) $(EVENTSMANAGER_DLL) $(GENTLE_FRAMEWORK_DLL) $(PERSONSMANAGER_DLL) $(LOG4NET_DLL) $(MAIN_WINDOW_GLADE)
	make pre-install-local-hook prefix=$(prefix)
	mkdir -p $(DESTDIR)$(libdir)/$(PACKAGE)
	cp $(ASSEMBLY) $(ASSEMBLY_MDB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(EVENTTYPESMANAGER_DLL_MDB)' || cp $(EVENTTYPESMANAGER_DLL_MDB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(ADD_PERSON_GLADE)' || cp $(ADD_PERSON_GLADE) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(GENTLE_COMMON_DLL)' || cp $(GENTLE_COMMON_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(SQLITE3_DLL)' || cp $(SQLITE3_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	mkdir -p $(DESTDIR)$(bindir)
	test -z '$(GUI)' || cp $(GUI) $(DESTDIR)$(bindir)
	test -z '$(LIBSQLITE3_SO_0)' || cp $(LIBSQLITE3_SO_0) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(BLUE_FEA_GIF)' || cp $(BLUE_FEA_GIF) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(ATTENDANCESMANAGER_DLL_MDB)' || cp $(ATTENDANCESMANAGER_DLL_MDB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(PERSONSMANAGER_DLL_MDB)' || cp $(PERSONSMANAGER_DLL_MDB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(DATA_DB)' || cp $(DATA_DB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(ADD_EVENT_GLADE)' || cp $(ADD_EVENT_GLADE) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(EVENTTYPESMANAGER_DLL)' || cp $(EVENTTYPESMANAGER_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(GENTLE_CONFIG)' || cp $(GENTLE_CONFIG) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(GENTLE_PROVIDER_SQLITE_DLL)' || cp $(GENTLE_PROVIDER_SQLITE_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(MONO_DATA_SQLITECLIENT_DLL)' || cp $(MONO_DATA_SQLITECLIENT_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(ATTENDANCESMANAGER_DLL)' || cp $(ATTENDANCESMANAGER_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(EVENTSMANAGER_DLL_MDB)' || cp $(EVENTSMANAGER_DLL_MDB) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(EVENTSMANAGER_DLL)' || cp $(EVENTSMANAGER_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(GENTLE_FRAMEWORK_DLL)' || cp $(GENTLE_FRAMEWORK_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(PERSONSMANAGER_DLL)' || cp $(PERSONSMANAGER_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(LOG4NET_DLL)' || cp $(LOG4NET_DLL) $(DESTDIR)$(libdir)/$(PACKAGE)
	test -z '$(MAIN_WINDOW_GLADE)' || cp $(MAIN_WINDOW_GLADE) $(DESTDIR)$(libdir)/$(PACKAGE)
	make post-install-local-hook prefix=$(prefix)

uninstall-local: $(ASSEMBLY) $(ASSEMBLY_MDB) $(EVENTTYPESMANAGER_DLL_MDB) $(ADD_PERSON_GLADE) $(GENTLE_COMMON_DLL) $(SQLITE3_DLL) $(GUI) $(LIBSQLITE3_SO_0) $(BLUE_FEA_GIF) $(ATTENDANCESMANAGER_DLL_MDB) $(PERSONSMANAGER_DLL_MDB) $(DATA_DB) $(ADD_EVENT_GLADE) $(EVENTTYPESMANAGER_DLL) $(GENTLE_CONFIG) $(GENTLE_PROVIDER_SQLITE_DLL) $(MONO_DATA_SQLITECLIENT_DLL) $(ATTENDANCESMANAGER_DLL) $(EVENTSMANAGER_DLL_MDB) $(EVENTSMANAGER_DLL) $(GENTLE_FRAMEWORK_DLL) $(PERSONSMANAGER_DLL) $(LOG4NET_DLL) $(MAIN_WINDOW_GLADE)
	make pre-uninstall-local-hook prefix=$(prefix)
	rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ASSEMBLY))
	test -z '$(ASSEMBLY_MDB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ASSEMBLY_MDB))
	test -z '$(EVENTTYPESMANAGER_DLL_MDB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(EVENTTYPESMANAGER_DLL_MDB))
	test -z '$(ADD_PERSON_GLADE)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ADD_PERSON_GLADE))
	test -z '$(GENTLE_COMMON_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(GENTLE_COMMON_DLL))
	test -z '$(SQLITE3_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(SQLITE3_DLL))
	test -z '$(GUI)' || rm -f $(DESTDIR)$(bindir)/$(notdir $(GUI))
	test -z '$(LIBSQLITE3_SO_0)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(LIBSQLITE3_SO_0))
	test -z '$(BLUE_FEA_GIF)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(BLUE_FEA_GIF))
	test -z '$(ATTENDANCESMANAGER_DLL_MDB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ATTENDANCESMANAGER_DLL_MDB))
	test -z '$(PERSONSMANAGER_DLL_MDB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(PERSONSMANAGER_DLL_MDB))
	test -z '$(DATA_DB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(DATA_DB))
	test -z '$(ADD_EVENT_GLADE)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ADD_EVENT_GLADE))
	test -z '$(EVENTTYPESMANAGER_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(EVENTTYPESMANAGER_DLL))
	test -z '$(GENTLE_CONFIG)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(GENTLE_CONFIG))
	test -z '$(GENTLE_PROVIDER_SQLITE_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(GENTLE_PROVIDER_SQLITE_DLL))
	test -z '$(MONO_DATA_SQLITECLIENT_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(MONO_DATA_SQLITECLIENT_DLL))
	test -z '$(ATTENDANCESMANAGER_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(ATTENDANCESMANAGER_DLL))
	test -z '$(EVENTSMANAGER_DLL_MDB)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(EVENTSMANAGER_DLL_MDB))
	test -z '$(EVENTSMANAGER_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(EVENTSMANAGER_DLL))
	test -z '$(GENTLE_FRAMEWORK_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(GENTLE_FRAMEWORK_DLL))
	test -z '$(PERSONSMANAGER_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(PERSONSMANAGER_DLL))
	test -z '$(LOG4NET_DLL)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(LOG4NET_DLL))
	test -z '$(MAIN_WINDOW_GLADE)' || rm -f $(DESTDIR)$(libdir)/$(PACKAGE)/$(notdir $(MAIN_WINDOW_GLADE))
	make post-uninstall-local-hook prefix=$(prefix)

install: install-local
uninstall: uninstall-local
clean: clean-local

include $(top_srcdir)/rules.make
